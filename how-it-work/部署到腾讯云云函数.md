### 部署到腾讯云云函数

由于字节跳动轻服务暂停注册, 目前可采用腾讯云云函数暂时代替执行. 但是部分功能需要后期实现

- 基于腾讯云COS的静态页面托管
- 基于腾讯云COS的照片上传服务
- 基于腾讯云的邮件发送中间件实现

使用云函数实现, 您甚至可以不在本地安装Node环境

**我个人仍然建议使用先于时代的[轻服务](https://qingfuwu.cn/)😎**

#### 下载与安装

- 克隆项目 或 单击绿色`Code`按钮, 选择`Download ZIP`
- 进入项目文件夹中`src`目录(无需安装依赖)

#### 将代码部署到腾讯云云函数

1. 打开`config.js`
   1. 在4, 5行输入用户名密码
   2. [可选]按提示修改定位信息与查寝图片上传方式
   3. [可选]如需邮件服务, 修改69行为`enable: true,`, 并按提示修改71-74行
2. [可选]默认在18点后调用函数会执行查寝, 18点前调用为健康打卡, 如需修改, 请修改`src/tencent/app.js`
3. 复制`src/tencent/app.js`到`src/app.js`
4. 将`src`目录下的文件压缩为`src.zip`(注意, 压缩包打开后应为各个JS文件而不是src文件夹)
5. 访问[https://serverless.cloud.tencent.com/start?c=scf](https://serverless.cloud.tencent.com/start?c=scf) , 注册帐号并点击前往控制台
6. 点击左侧函数服务, 点击新建, 点击从头开始, 起一个函数名称, 就近选择地域, 运行环境选择`Node.js 16.13`(或更高)
7. 输入执行方法: `app.main_handler`
8. 提交方法选择: `本地上传zip包`, 上传`src.zip`
9. 展开高级配置, 内存: `512MB`, 初始化超时时间: `300`, 执行超时时间: `900`
10. 选择完成
11. 选择函数管理-函数代码-找到IDE下的上传方式, 选择在线安装依赖, 点击部署, 等待加载完成(很慢), 点击测试进行测试

#### 使用腾讯云云函数实现定时打卡

选择触发管理, 创建触发器, 触发周期选择自定义触发周期, 输入`CRON`表达式
